The Assignment
==============

Quoted from Coursera:

You should create one R script called run\_analysis.R that does the
following.

1.  Merges the training and the test sets to create one data set.

2.  Extracts only the measurements on the mean and standard deviation
    for each measurement.

3.  Uses descriptive activity names to name the activities in the data
    set

4.  Appropriately labels the data set with descriptive variable names.

5.  From the data set in step 4, creates a second, independent tidy data
    set with the average of each variable for each activity and each
    subject.

The Data (taken from README.txt)
--------------------------------

The experiments have been carried out with a group of 30 volunteers
within an age bracket of 19-48 years. Each person performed six
activities (WALKING, WALKING\_UPSTAIRS, WALKING\_DOWNSTAIRS, SITTING,
STANDING, LAYING) wearing a smartphone (Samsung Galaxy S II) on the
waist. Using its embedded accelerometer and gyroscope, we captured
3-axial linear acceleration and 3-axial angular velocity at a constant
rate of 50Hz. The experiments have been video-recorded to label the data
manually. The obtained dataset has been randomly partitioned into two
sets, where 70% of the volunteers was selected for generating the
training data and 30% the test data.

The dataset includes the following files:
-----------------------------------------

-   ‘README.txt’

-   ‘features\_info.txt’: Shows information about the variables used on
    the feature vector.

-   ‘features.txt’: List of all features.

-   ‘activity\_labels.txt’: Links the class labels with their activity
    name.

-   ‘train/X\_train.txt’: Training set.

-   ‘train/y\_train.txt’: Training labels.

-   ‘test/X\_test.txt’: Test set.

-   ‘test/y\_test.txt’: Test labels.

Packages Utilized
-----------------

    library(tidyverse)

Step 1) Importing the training and test data and making one data frame from each
--------------------------------------------------------------------------------

    #Training Data

    training_data_set <- read.table("UCI HAR Dataset/train/X_train.txt")
    training_data_labels <- read.csv("UCI HAR Dataset/train/y_train.txt", header = FALSE,
                                     sep = ' ')
    training_data_subject <- read.csv("UCI HAR Dataset/train/subject_train.txt", header = FALSE,
                                     sep = ' ')
                                     
    #Combining the training data into one data frame

    training_data <- data.frame(training_data_subject, training_data_labels,
                                training_data_set) 
                                

    #Test data

    test_data_set <- read.table("UCI HAR Dataset/test/X_test.txt")

    test_data_labels <- read.csv("UCI HAR Dataset/test/y_test.txt", header = FALSE,
                                     sep = ' ')

    test_data_subject <- read.csv("UCI HAR Dataset/test/subject_test.txt", header = FALSE,
                                      sep = ' ')

    #Combining the test data into one data frame

    test_data <- data.frame(test_data_subject, test_data_labels, test_data_set)
                                     

Step 2) Importing the features.txt file to provide names for the metrics
------------------------------------------------------------------------

    #Features 
    features_labels <- read.csv("UCI HAR Dataset/features.txt", header = FALSE, sep = ' ')
    features_labels <- as.character(features_labels[,2])

Step 3) Combining the training and test data into one data frame
----------------------------------------------------------------

    combined_data <- rbind(training_data, test_data)

Step 4) Renaming the columns
----------------------------

    names(combined_data) <- c(c("subject_id", "activity"), features_labels)

Step 5) Extracts only the measurements on the mean and standard Deviation for each measurement
----------------------------------------------------------------------------------------------

    mean_std_measurements <- grep('mean|std', features_labels)

    combined_data_mean_std <- combined_data[,c(1,2,(mean_std_measurements+2))]

Step 6) Importing the activity labels and renaming the activity column with correct names
-----------------------------------------------------------------------------------------

    activity_labels <- read.csv("UCI HAR Dataset/activity_labels.txt",
                                header = FALSE, sep = ' ')

    activity_labels <- as.character(activity_labels[,2])

    combined_data_labeled <- combined_data_mean_std

    combined_data_labeled$activity <- activity_labels[combined_data_labeled$activity]

Step 7) Appropriately labels the data set columns with descriptive variable names
---------------------------------------------------------------------------------

    names_descriptions <- names(combined_data_labeled)
    names_descriptions <- gsub("Acc", "Acceleration", names_descriptions)
    names_descriptions <- gsub("Gyro", "Gyroscope", names_descriptions)
    names_descriptions <- gsub("Freq", "Frequency", names_descriptions)
    names_descriptions <- gsub("Mag", "Magnitude", names_descriptions)
    names_descriptions <- gsub("^t", "Time", names_descriptions)
    names_descriptions <- gsub("^f", "Frequency", names_descriptions)

    names(combined_data_labeled) <- names_descriptions

Step 8) From the data set in the previous step, creates a second, independent tidy data set with the average of each variable for each activity and each subject
----------------------------------------------------------------------------------------------------------------------------------------------------------------

    combined_data_tidy <- combined_data_labeled %>%
        gather('TimeBodyAcceleration-mean()-X':'FrequencyBodyBodyGyroscopeJerkMagnitude-meanFrequency()',
               key = "Metric", value = "value") %>%
        group_by(subject_id, activity, Metric) %>%
        summarise(average = mean(value))
        

Step 9) Exporting the data to “tidydata.txt”
--------------------------------------------

    write.table(combined_data_tidy, "tidydata.txt", row.name = FALSE)

Inspecting the dataset structure
--------------------------------

    str(combined_data_labeled)

    'data.frame':   10299 obs. of  81 variables:
     $ subject_id                                                : int  1 1 1 1 1 1 1 1 1 1 ...
     $ activity                                                  : chr  "STANDING" "STANDING" "STANDING" "STANDING" ...
     $ TimeBodyAcceleration-mean()-X                             : num  0.289 0.278 0.28 0.279 0.277 ...
     $ TimeBodyAcceleration-mean()-Y                             : num  -0.0203 -0.0164 -0.0195 -0.0262 -0.0166 ...
     $ TimeBodyAcceleration-mean()-Z                             : num  -0.133 -0.124 -0.113 -0.123 -0.115 ...
     $ TimeBodyAcceleration-std()-X                              : num  -0.995 -0.998 -0.995 -0.996 -0.998 ...
     $ TimeBodyAcceleration-std()-Y                              : num  -0.983 -0.975 -0.967 -0.983 -0.981 ...
     $ TimeBodyAcceleration-std()-Z                              : num  -0.914 -0.96 -0.979 -0.991 -0.99 ...
     $ TimeGravityAcceleration-mean()-X                          : num  0.963 0.967 0.967 0.968 0.968 ...
     $ TimeGravityAcceleration-mean()-Y                          : num  -0.141 -0.142 -0.142 -0.144 -0.149 ...
     $ TimeGravityAcceleration-mean()-Z                          : num  0.1154 0.1094 0.1019 0.0999 0.0945 ...
     $ TimeGravityAcceleration-std()-X                           : num  -0.985 -0.997 -1 -0.997 -0.998 ...
     $ TimeGravityAcceleration-std()-Y                           : num  -0.982 -0.989 -0.993 -0.981 -0.988 ...
     $ TimeGravityAcceleration-std()-Z                           : num  -0.878 -0.932 -0.993 -0.978 -0.979 ...
     $ TimeBodyAccelerationJerk-mean()-X                         : num  0.078 0.074 0.0736 0.0773 0.0734 ...
     $ TimeBodyAccelerationJerk-mean()-Y                         : num  0.005 0.00577 0.0031 0.02006 0.01912 ...
     $ TimeBodyAccelerationJerk-mean()-Z                         : num  -0.06783 0.02938 -0.00905 -0.00986 0.01678 ...
     $ TimeBodyAccelerationJerk-std()-X                          : num  -0.994 -0.996 -0.991 -0.993 -0.996 ...
     $ TimeBodyAccelerationJerk-std()-Y                          : num  -0.988 -0.981 -0.981 -0.988 -0.988 ...
     $ TimeBodyAccelerationJerk-std()-Z                          : num  -0.994 -0.992 -0.99 -0.993 -0.992 ...
     $ TimeBodyGyroscope-mean()-X                                : num  -0.0061 -0.0161 -0.0317 -0.0434 -0.034 ...
     $ TimeBodyGyroscope-mean()-Y                                : num  -0.0314 -0.0839 -0.1023 -0.0914 -0.0747 ...
     $ TimeBodyGyroscope-mean()-Z                                : num  0.1077 0.1006 0.0961 0.0855 0.0774 ...
     $ TimeBodyGyroscope-std()-X                                 : num  -0.985 -0.983 -0.976 -0.991 -0.985 ...
     $ TimeBodyGyroscope-std()-Y                                 : num  -0.977 -0.989 -0.994 -0.992 -0.992 ...
     $ TimeBodyGyroscope-std()-Z                                 : num  -0.992 -0.989 -0.986 -0.988 -0.987 ...
     $ TimeBodyGyroscopeJerk-mean()-X                            : num  -0.0992 -0.1105 -0.1085 -0.0912 -0.0908 ...
     $ TimeBodyGyroscopeJerk-mean()-Y                            : num  -0.0555 -0.0448 -0.0424 -0.0363 -0.0376 ...
     $ TimeBodyGyroscopeJerk-mean()-Z                            : num  -0.062 -0.0592 -0.0558 -0.0605 -0.0583 ...
     $ TimeBodyGyroscopeJerk-std()-X                             : num  -0.992 -0.99 -0.988 -0.991 -0.991 ...
     $ TimeBodyGyroscopeJerk-std()-Y                             : num  -0.993 -0.997 -0.996 -0.997 -0.996 ...
     $ TimeBodyGyroscopeJerk-std()-Z                             : num  -0.992 -0.994 -0.992 -0.993 -0.995 ...
     $ TimeBodyAccelerationMagnitude-mean()                      : num  -0.959 -0.979 -0.984 -0.987 -0.993 ...
     $ TimeBodyAccelerationMagnitude-std()                       : num  -0.951 -0.976 -0.988 -0.986 -0.991 ...
     $ TimeGravityAccelerationMagnitude-mean()                   : num  -0.959 -0.979 -0.984 -0.987 -0.993 ...
     $ TimeGravityAccelerationMagnitude-std()                    : num  -0.951 -0.976 -0.988 -0.986 -0.991 ...
     $ TimeBodyAccelerationJerkMagnitude-mean()                  : num  -0.993 -0.991 -0.989 -0.993 -0.993 ...
     $ TimeBodyAccelerationJerkMagnitude-std()                   : num  -0.994 -0.992 -0.99 -0.993 -0.996 ...
     $ TimeBodyGyroscopeMagnitude-mean()                         : num  -0.969 -0.981 -0.976 -0.982 -0.985 ...
     $ TimeBodyGyroscopeMagnitude-std()                          : num  -0.964 -0.984 -0.986 -0.987 -0.989 ...
     $ TimeBodyGyroscopeJerkMagnitude-mean()                     : num  -0.994 -0.995 -0.993 -0.996 -0.996 ...
     $ TimeBodyGyroscopeJerkMagnitude-std()                      : num  -0.991 -0.996 -0.995 -0.995 -0.995 ...
     $ FrequencyBodyAcceleration-mean()-X                        : num  -0.995 -0.997 -0.994 -0.995 -0.997 ...
     $ FrequencyBodyAcceleration-mean()-Y                        : num  -0.983 -0.977 -0.973 -0.984 -0.982 ...
     $ FrequencyBodyAcceleration-mean()-Z                        : num  -0.939 -0.974 -0.983 -0.991 -0.988 ...
     $ FrequencyBodyAcceleration-std()-X                         : num  -0.995 -0.999 -0.996 -0.996 -0.999 ...
     $ FrequencyBodyAcceleration-std()-Y                         : num  -0.983 -0.975 -0.966 -0.983 -0.98 ...
     $ FrequencyBodyAcceleration-std()-Z                         : num  -0.906 -0.955 -0.977 -0.99 -0.992 ...
     $ FrequencyBodyAcceleration-meanFrequency()-X               : num  0.252 0.271 0.125 0.029 0.181 ...
     $ FrequencyBodyAcceleration-meanFrequency()-Y               : num  0.1318 0.0429 -0.0646 0.0803 0.058 ...
     $ FrequencyBodyAcceleration-meanFrequency()-Z               : num  -0.0521 -0.0143 0.0827 0.1857 0.5598 ...
     $ FrequencyBodyAccelerationJerk-mean()-X                    : num  -0.992 -0.995 -0.991 -0.994 -0.996 ...
     $ FrequencyBodyAccelerationJerk-mean()-Y                    : num  -0.987 -0.981 -0.982 -0.989 -0.989 ...
     $ FrequencyBodyAccelerationJerk-mean()-Z                    : num  -0.99 -0.99 -0.988 -0.991 -0.991 ...
     $ FrequencyBodyAccelerationJerk-std()-X                     : num  -0.996 -0.997 -0.991 -0.991 -0.997 ...
     $ FrequencyBodyAccelerationJerk-std()-Y                     : num  -0.991 -0.982 -0.981 -0.987 -0.989 ...
     $ FrequencyBodyAccelerationJerk-std()-Z                     : num  -0.997 -0.993 -0.99 -0.994 -0.993 ...
     $ FrequencyBodyAccelerationJerk-meanFrequency()-X           : num  0.8704 0.6085 0.1154 0.0358 0.2734 ...
     $ FrequencyBodyAccelerationJerk-meanFrequency()-Y           : num  0.2107 -0.0537 -0.1934 -0.093 0.0791 ...
     $ FrequencyBodyAccelerationJerk-meanFrequency()-Z           : num  0.2637 0.0631 0.0383 0.1681 0.2924 ...
     $ FrequencyBodyGyroscope-mean()-X                           : num  -0.987 -0.977 -0.975 -0.987 -0.982 ...
     $ FrequencyBodyGyroscope-mean()-Y                           : num  -0.982 -0.993 -0.994 -0.994 -0.993 ...
     $ FrequencyBodyGyroscope-mean()-Z                           : num  -0.99 -0.99 -0.987 -0.987 -0.989 ...
     $ FrequencyBodyGyroscope-std()-X                            : num  -0.985 -0.985 -0.977 -0.993 -0.986 ...
     $ FrequencyBodyGyroscope-std()-Y                            : num  -0.974 -0.987 -0.993 -0.992 -0.992 ...
     $ FrequencyBodyGyroscope-std()-Z                            : num  -0.994 -0.99 -0.987 -0.989 -0.988 ...
     $ FrequencyBodyGyroscope-meanFrequency()-X                  : num  -0.2575 -0.0482 -0.2167 0.2169 -0.1533 ...
     $ FrequencyBodyGyroscope-meanFrequency()-Y                  : num  0.0979 -0.4016 -0.0173 -0.1352 -0.0884 ...
     $ FrequencyBodyGyroscope-meanFrequency()-Z                  : num  0.5472 -0.0682 -0.1107 -0.0497 -0.1622 ...
     $ FrequencyBodyAccelerationMagnitude-mean()                 : num  -0.952 -0.981 -0.988 -0.988 -0.994 ...
     $ FrequencyBodyAccelerationMagnitude-std()                  : num  -0.956 -0.976 -0.989 -0.987 -0.99 ...
     $ FrequencyBodyAccelerationMagnitude-meanFrequency()        : num  -0.0884 -0.0441 0.2579 0.0736 0.3943 ...
     $ FrequencyBodyBodyAccelerationJerkMagnitude-mean()         : num  -0.994 -0.99 -0.989 -0.993 -0.996 ...
     $ FrequencyBodyBodyAccelerationJerkMagnitude-std()          : num  -0.994 -0.992 -0.991 -0.992 -0.994 ...
     $ FrequencyBodyBodyAccelerationJerkMagnitude-meanFrequency(): num  0.347 0.532 0.661 0.679 0.559 ...
     $ FrequencyBodyBodyGyroscopeMagnitude-mean()                : num  -0.98 -0.988 -0.989 -0.989 -0.991 ...
     $ FrequencyBodyBodyGyroscopeMagnitude-std()                 : num  -0.961 -0.983 -0.986 -0.988 -0.989 ...
     $ FrequencyBodyBodyGyroscopeMagnitude-meanFrequency()       : num  -0.129 -0.272 -0.2127 -0.0357 -0.2736 ...
     $ FrequencyBodyBodyGyroscopeJerkMagnitude-mean()            : num  -0.992 -0.996 -0.995 -0.995 -0.995 ...
     $ FrequencyBodyBodyGyroscopeJerkMagnitude-std()             : num  -0.991 -0.996 -0.995 -0.995 -0.995 ...
     $ FrequencyBodyBodyGyroscopeJerkMagnitude-meanFrequency()   : num  -0.0743 0.1581 0.4145 0.4046 0.0878 ...
